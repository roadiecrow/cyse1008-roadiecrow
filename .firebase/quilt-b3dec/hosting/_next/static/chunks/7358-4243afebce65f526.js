(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7358],{37358:function(e,t,r){Promise.resolve().then(r.bind(r,81574)),Promise.resolve().then(r.bind(r,51814)),Promise.resolve().then(r.bind(r,67194)),Promise.resolve().then(r.bind(r,59266))},8974:function(e,t,r){"use strict";r.d(t,{Y:function(){return d}});var n=r(57437),s=r(63832),i=r(18856),a=r(46387),o=r(80868),l=r(90096);function c(e){let{link:t,activeLast:r,disabled:a}=e,o={typography:"body2",alignItems:"center",color:"text.primary",display:"inline-flex",...a&&!r&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}},c=(0,n.jsxs)(n.Fragment,{children:[t.icon&&(0,n.jsx)(s.Z,{component:"span",sx:{mr:1,display:"inherit","& svg, & img":{width:20,height:20}},children:t.icon}),t.name]});return t.href?(0,n.jsx)(i.Z,{component:l.r,href:t.href,sx:o,children:c}):(0,n.jsxs)(s.Z,{sx:o,children:[" ",c," "]})}function d(e){let{links:t,action:r,heading:l,moreLink:d,activeLast:p,slotProps:x,sx:h,...m}=e,g=t[t.length-1].name,b=(0,n.jsx)(a.Z,{variant:"h4",sx:{mb:2,...null==x?void 0:x.heading},children:l}),j=(0,n.jsx)(o.Z,{separator:(0,n.jsx)(u,{}),sx:null==x?void 0:x.breadcrumbs,...m,children:t.map((e,t)=>{var r;return(0,n.jsx)(c,{link:e,activeLast:p,disabled:e.name===g},null!==(r=e.name)&&void 0!==r?r:t)})}),v=(0,n.jsxs)(s.Z,{sx:{flexShrink:0,...null==x?void 0:x.action},children:[" ",r," "]}),f=(0,n.jsx)(s.Z,{component:"ul",children:null==d?void 0:d.map(e=>(0,n.jsx)(s.Z,{component:"li",sx:{display:"flex"},children:(0,n.jsx)(i.Z,{href:e,variant:"body2",target:"_blank",rel:"noopener",sx:null==x?void 0:x.moreLink,children:e})},e))});return(0,n.jsxs)(s.Z,{gap:2,display:"flex",flexDirection:"column",sx:h,...m,children:[(0,n.jsxs)(s.Z,{display:"flex",alignItems:"center",children:[(0,n.jsxs)(s.Z,{sx:{flexGrow:1},children:[l&&b,!!t.length&&j]}),r&&v]}),!!d&&f]})}function u(){return(0,n.jsx)(s.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}},16370:function(e,t,r){"use strict";r.d(t,{z:function(){return c}});var n=r(57437),s=r(63832),i=r(63582),a=r(46387),o=r(37183),l=r(86281);function c(e){let{sx:t,imgUrl:r,action:c,filled:d,slotProps:u,description:p,title:x="No data",...h}=e;return(0,n.jsxs)(i.Z,{flexGrow:1,alignItems:"center",justifyContent:"center",sx:{px:3,height:1,...d&&{borderRadius:2,bgcolor:e=>(0,l.jr)(e.vars.palette.grey["500Channel"],.04),border:e=>"dashed 1px ".concat((0,l.jr)(e.vars.palette.grey["500Channel"],.08))},...t},...h,children:[(0,n.jsx)(s.Z,{component:"img",alt:"empty content",src:null!=r?r:"".concat(o.CONFIG.assetsDir,"/assets/icons/empty/ic-content.svg"),sx:{width:1,maxWidth:160,...null==u?void 0:u.img}}),x&&(0,n.jsx)(a.Z,{variant:"h6",component:"span",sx:{mt:1,textAlign:"center",...null==u?void 0:u.title,color:"text.disabled"},children:x}),p&&(0,n.jsx)(a.Z,{variant:"caption",sx:{mt:1,textAlign:"center",color:"text.disabled",...null==u?void 0:u.description},children:p}),c&&c]})}},71180:function(e,t,r){"use strict";r.d(t,{eE:function(){return i},Ai:function(){return c},sB:function(){return l}});var n=r(57437),s=r(63832);function i(e){let{label:t,children:r,isShow:i,sx:a}=e;return i?(0,n.jsxs)(s.Z,{gap:1,display:"flex",sx:{p:1,borderRadius:1,overflow:"hidden",border:e=>"dashed 1px ".concat(e.vars.palette.divider),...a},children:[(0,n.jsx)(s.Z,{component:"span",sx:{height:24,lineHeight:"24px",fontSize:e=>e.typography.subtitle2.fontSize,fontWeight:e=>e.typography.subtitle2.fontWeight},children:t}),(0,n.jsx)(s.Z,{gap:1,display:"flex",flexWrap:"wrap",children:r})]}):null}var a=r(39155),o=r(27250);let l={size:"small",variant:"soft"};function c(e){let{totalResults:t,onReset:r,sx:i,children:l}=e;return(0,n.jsxs)(s.Z,{sx:i,children:[(0,n.jsxs)(s.Z,{sx:{mb:1.5,typography:"body2"},children:[(0,n.jsx)("strong",{children:t}),(0,n.jsx)(s.Z,{component:"span",sx:{color:"text.secondary",ml:.25},children:"results found"})]}),(0,n.jsxs)(s.Z,{flexGrow:1,gap:1,display:"flex",flexWrap:"wrap",alignItems:"center",children:[l,(0,n.jsx)(a.Z,{color:"error",onClick:r,startIcon:(0,n.jsx)(o.Ir,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]})]})}},22333:function(e,t,r){"use strict";r.d(t,{ey:function(){return x},NX:function(){return g}});var n=r(57437),s=r(68032),i=r(70307),a=r(20878),o=r(49708),l=r(99341),c=r(50784),d=r(82442),u=r(63832),p=r(27250);function x(e){let{slides:t,disableZoom:r,disableVideo:u,disableTotal:x,disableCaptions:m,disableSlideshow:g,disableThumbnails:b,disableFullscreen:j,onGetCurrentIndex:v,className:f,...y}=e,Z=t?t.length:0;return(0,n.jsx)(d.ZP,{slides:t,animation:{swipe:240},carousel:{finite:Z<5},controller:{closeOnBackdropClick:!0},plugins:function(e){let{disableZoom:t,disableVideo:r,disableCaptions:n,disableSlideshow:d,disableThumbnails:u,disableFullscreen:p}=e,x=[a.Z,l.Z,o.Z,c.Z,i.Z,s.Z];return u&&(x=x.filter(e=>e!==c.Z)),n&&(x=x.filter(e=>e!==a.Z)),p&&(x=x.filter(e=>e!==l.Z)),d&&(x=x.filter(e=>e!==o.Z)),t&&(x=x.filter(e=>e!==s.Z)),r&&(x=x.filter(e=>e!==i.Z)),x}({disableZoom:r,disableVideo:u,disableCaptions:m,disableSlideshow:g,disableThumbnails:b,disableFullscreen:j}),on:{view:e=>{let{index:t}=e;v&&v(t)}},toolbar:{buttons:[(0,n.jsx)(h,{totalItems:Z,disableTotal:x},0),"close"]},render:{iconClose:()=>(0,n.jsx)(p.Ir,{width:24,icon:"carbon:close"}),iconZoomIn:()=>(0,n.jsx)(p.Ir,{width:24,icon:"carbon:zoom-in"}),iconZoomOut:()=>(0,n.jsx)(p.Ir,{width:24,icon:"carbon:zoom-out"}),iconSlideshowPlay:()=>(0,n.jsx)(p.Ir,{width:24,icon:"carbon:play"}),iconSlideshowPause:()=>(0,n.jsx)(p.Ir,{width:24,icon:"carbon:pause"}),iconPrev:()=>(0,n.jsx)(p.Ir,{width:32,icon:"carbon:chevron-left"}),iconNext:()=>(0,n.jsx)(p.Ir,{width:32,icon:"carbon:chevron-right"}),iconExitFullscreen:()=>(0,n.jsx)(p.Ir,{width:24,icon:"carbon:center-to-fit"}),iconEnterFullscreen:()=>(0,n.jsx)(p.Ir,{width:24,icon:"carbon:fit-to-screen"})},className:"mnl__lightbox__root".concat(f?" ".concat(f):""),...y})}function h(e){let{totalItems:t,disableTotal:r}=e,{currentIndex:s}=(0,d.oc)();return r?null:(0,n.jsxs)(u.Z,{component:"span",className:"yarl__button",sx:{typography:"body2",alignItems:"center",display:"inline-flex",justifyContent:"center"},children:[(0,n.jsxs)("strong",{children:[" ",s+1," "]})," / ",t]})}var m=r(2265);function g(e){let[t,r]=(0,m.useState)(-1);return{selected:t,open:t>=0,onOpen:(0,m.useCallback)(t=>{r(e.findIndex(e=>"video"===e.type?e.poster===t:e.src===t))},[e]),onClose:(0,m.useCallback)(()=>{r(-1)},[]),setSelected:r}}},75911:function(e,t,r){"use strict";r.d(t,{U:function(){return y}});var n=r(57437);r(58533);var s=r(2265),i=r(91305),a=r(50051),o=r(9527),l=r(18856),c=r(26755),d=r(90096),u=r(2916),p=r(26727),x=r(16210),h=r(86281);let m={root:"nml__markdown__root",content:{pre:"nml__editor__content__pre",codeInline:"nml__editor__content__codeInline",codeBlock:"nml__editor__content__codeBlock",image:"nml__editor__content__image",link:"nml__editor__content__link"}},g=(0,x.ZP)(p.U)(e=>{let{theme:t}=e;return{"> * + *":{marginTop:0,marginBottom:"0.75em"},h1:{...t.typography.h1,marginTop:40,marginBottom:8},h2:{...t.typography.h2,marginTop:40,marginBottom:8},h3:{...t.typography.h3,marginTop:24,marginBottom:8},h4:{...t.typography.h4,marginTop:24,marginBottom:8},h5:{...t.typography.h5,marginTop:24,marginBottom:8},h6:{...t.typography.h6,marginTop:24,marginBottom:8},p:{...t.typography.body1,marginBottom:"1.25rem"},hr:{flexShrink:0,borderWidth:0,margin:"2em 0",msFlexNegative:0,WebkitFlexShrink:0,borderStyle:"solid",borderBottomWidth:"thin",borderColor:t.vars.palette.divider},["& .".concat(m.content.image)]:{width:"100%",height:"auto",maxWidth:"100%",margin:"auto auto 1.25em"},"& ul":{listStyleType:"disc"},"& ul, & ol":{paddingLeft:16,"& > li":{lineHeight:2,"& > p":{margin:0,display:"inline-block"}}},"& blockquote":{lineHeight:1.5,fontSize:"1.5em",margin:"24px auto",position:"relative",fontFamily:"Georgia, serif",padding:t.spacing(3,3,3,8),color:t.vars.palette.text.secondary,borderLeft:"solid 8px ".concat((0,h.jr)(t.vars.palette.grey["500Channel"],.08)),[t.breakpoints.up("md")]:{width:"100%",maxWidth:640},"& p":{margin:0,fontSize:"inherit",fontFamily:"inherit"},"&::before":{left:16,top:-8,display:"block",fontSize:"3em",content:'"\\201C"',position:"absolute",color:t.vars.palette.text.disabled}},["& .".concat(m.content.codeInline)]:{padding:t.spacing(.25,.5),color:t.vars.palette.text.secondary,fontSize:t.typography.body2.fontSize,borderRadius:t.shape.borderRadius/2,backgroundColor:(0,h.jr)(t.vars.palette.grey["500Channel"],.2)},["& .".concat(m.content.codeBlock)]:{position:"relative","& pre":{overflowX:"auto",padding:t.spacing(3),color:t.vars.palette.common.white,borderRadius:t.shape.borderRadius,fontFamily:"'JetBrainsMono', monospace",backgroundColor:t.vars.palette.grey[900],"& code":{fontSize:t.typography.body2.fontSize},[h.s4.dark]:{backgroundColor:t.vars.palette.grey[800]}}},table:{width:"100%",borderCollapse:"collapse",border:"1px solid ".concat(t.vars.palette.divider),"th, td":{padding:t.spacing(1),border:"1px solid ".concat(t.vars.palette.divider)},"tbody tr:nth-of-type(odd)":{backgroundColor:t.vars.palette.background.neutral}},input:{"&[type=checkbox]":{position:"relative",cursor:"pointer","&:before":{content:'""',top:-2,left:-2,width:17,height:17,borderRadius:3,position:"absolute",backgroundColor:t.vars.palette.grey[300],[h.s4.dark]:{backgroundColor:t.vars.palette.grey[700]}},"&:checked":{"&:before":{backgroundColor:t.vars.palette.primary.main},"&:after":{content:'""',top:1,left:5,width:4,height:9,position:"absolute",transform:"rotate(45deg)",msTransform:"rotate(45deg)",WebkitTransform:"rotate(45deg)",border:"solid ".concat(t.vars.palette.common.white),borderWidth:"0 2px 2px 0"}}}}}});var b=r(45464);let j=["pre","code"],v=new b.Z({codeBlockStyle:"fenced",fence:"```"}),f=["a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bdo","bgsound","big","blink","blockquote","body","br","button","canvas","caption","center","circle","cite","clipPath","code","col","colgroup","command","content","data","datalist","dd","defs","del","details","dfn","dialog","dir","div","dl","dt","element","ellipse","em","embed","fieldset","figcaption","figure","font","footer","foreignObject","form","frame","frameset","g","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","image","img","input","ins","isindex","kbd","keygen","label","legend","li","line","linearGradient","link","listing","main","map","mark","marquee","mask","math","menu","menuitem","meta","meter","multicol","nav","nextid","nobr","noembed","noframes","noscript","object","ol","optgroup","option","output","p","param","path","pattern","picture","plaintext","polygon","polyline","pre","progress","q","radialGradient","rb","rbc","rect","rp","rt","rtc","ruby","s","samp","script","section","select","shadow","slot","small","source","spacer","span","stop","strike","strong","style","sub","summary","sup","svg","table","tbody","td","template","text","textarea","tfoot","th","thead","time","title","tr","track","tspan","tt","u","ul","var","video","wbr","xmp"].filter(e=>!j.includes(e));function y(e){let{children:t,sx:r,...i}=e,a=(0,s.useMemo)(()=>{var e,r;return(e="".concat(t),[/^#+\s/,/^(\*|-|\d+\.)\s/,/^```/,/^\|/,/^(\s*)[*+-] [^\r\n]+/,/^(\s*)\d+\. [^\r\n]+/,/!\[.*?\]\(.*?\)/,/\[.*?\]\(.*?\)/].some(t=>t.test(e)))?t:(r="".concat(t).trim(),v.turndown(r))},[t]);return(0,n.jsx)(g,{children:a,components:k,rehypePlugins:Z,className:m.root,sx:r,...i})}v.addRule("keep",{filter:f,replacement(e,t){let{isBlock:r,outerHTML:n}=t;return t&&r?"\n\n".concat(n,"\n\n"):n}});let Z=[a.Z,o.Z,[i.Z,{singleTilde:!1}]],k={img:e=>{let{...t}=e;return(0,n.jsx)(u.E,{ratio:"16/9",className:m.content.image,sx:{borderRadius:2},...t})},a:e=>{let{href:t,children:r,...s}=e,i=(0,c.Bm)(t)?{target:"_blank",rel:"noopener"}:{component:d.r};return(0,n.jsx)(l.Z,{...i,href:t,className:m.content.link,...s,children:r})},pre:e=>{let{children:t}=e;return(0,n.jsx)("div",{className:m.content.codeBlock,children:(0,n.jsx)("pre",{children:t})})},code(e){let{className:t,children:r,...s}=e;return/language-(\w+)/.exec(t||"")?(0,n.jsx)("code",{...s,className:t,children:r}):(0,n.jsx)("code",{...s,className:m.content.codeInline,children:r})}}},90434:function(e,t,r){"use strict";r.d(t,{v:function(){return i}});var n=r(2265),s=r(65570);function i(e){let[t,r]=(0,n.useState)(e),i=!(0,s.Xy)(t,e),a=(0,n.useCallback)(e=>{r(t=>({...t,...e}))},[]),o=(0,n.useCallback)((e,t)=>{a({[e]:t})},[a]),l=(0,n.useCallback)(()=>{r(e)},[e]);return(0,n.useMemo)(()=>({state:t,setState:a,setField:o,onResetState:l,canReset:i}),[i,l,o,a,t])}},41473:function(e,t,r){"use strict";r.d(t,{Y:function(){return s}});var n=r(2265);function s(e){let[t,r]=(0,n.useState)(e),s=(0,n.useCallback)((e,t)=>{r(t)},[]);return(0,n.useMemo)(()=>({value:t,setValue:r,onChange:s}),[s,t])}},47352:function(e,t,r){"use strict";r.d(t,{cv:function(){return n.DashboardContent}});var n=r(40355);r(11211)},42740:function(e,t,r){"use strict";r.d(t,{j:function(){return w}});var n=r(57437),s=r(2265),i=r(31229),a=r(29501),o=r(13590),l=r(89902),c=r(31762),d=r(63582),u=r(42409),p=r(85147),x=r(8350),h=r(97260),m=r(46387),g=r(6809),b=r(72608),j=r(96997),v=r(43351),f=r(36469),y=r(72407),Z=r(43030),k=r(13611);let C=i.z.object({name:i.z.string().min(1,{message:"Name is required!"}),content:k.YT.editor({message:{required_error:"Content is required!"}}),images:k.YT.files({message:{required_error:"Images is required!"}}),tourGuides:i.z.array(i.z.object({id:i.z.string(),name:i.z.string(),avatarUrl:i.z.string(),phoneNumber:i.z.string()})).nonempty({message:"Must have at least 1 guide!"}),available:i.z.object({startDate:k.YT.date({message:{required_error:"Start date is required!"}}),endDate:k.YT.date({message:{required_error:"End date is required!"}})}),durations:i.z.string().min(1,{message:"Durations is required!"}),destination:k.YT.objectOrNull({message:{required_error:"Destination is required!"}}),services:i.z.string().array().min(2,{message:"Must have at least 2 items!"}),tags:i.z.string().array().min(2,{message:"Must have at least 2 items!"})}).refine(e=>!(0,f.mP)(e.available.startDate,e.available.endDate),{message:"End date cannot be earlier than start date!",path:["available.endDate"]});function w(e){let{currentTour:t}=e,r=(0,v.tv)(),i=(0,s.useMemo)(()=>({name:(null==t?void 0:t.name)||"",content:(null==t?void 0:t.content)||"",images:(null==t?void 0:t.images)||[],tourGuides:(null==t?void 0:t.tourGuides)||[],available:{startDate:(null==t?void 0:t.available.startDate)||null,endDate:(null==t?void 0:t.available.endDate)||null},durations:(null==t?void 0:t.durations)||"",destination:(null==t?void 0:t.destination)||"",services:(null==t?void 0:t.services)||[],tags:(null==t?void 0:t.tags)||[]}),[t]),f=(0,a.cI)({mode:"all",resolver:(0,o.F)(C),defaultValues:i}),{watch:w,reset:I,setValue:S,handleSubmit:D,formState:{isSubmitting:T}}=f,_=w();(0,s.useEffect)(()=>{t&&I(i)},[t,i,I]);let E=D(async e=>{try{await new Promise(e=>setTimeout(e,500)),I(),Z.Am.success(t?"Update success!":"Create success!"),r.push(j.H.dashboard.tour.root),console.info("DATA",e)}catch(e){console.error(e)}}),P=(0,s.useCallback)(e=>{var t;S("images",_.images&&(null===(t=_.images)||void 0===t?void 0:t.filter(t=>t!==e)),{shouldValidate:!0})},[S,_.images]),z=(0,s.useCallback)(()=>{S("images",[],{shouldValidate:!0})},[S]),N=(0,n.jsxs)(c.Z,{children:[(0,n.jsx)(h.Z,{title:"Details",subheader:"Title, short description, image...",sx:{mb:3}}),(0,n.jsx)(x.Z,{}),(0,n.jsxs)(d.Z,{spacing:3,sx:{p:3},children:[(0,n.jsxs)(d.Z,{spacing:1.5,children:[(0,n.jsx)(m.Z,{variant:"subtitle2",children:"Name"}),(0,n.jsx)(k.gN.Text,{name:"name",placeholder:"Ex: Adventure Seekers Expedition..."})]}),(0,n.jsxs)(d.Z,{spacing:1.5,children:[(0,n.jsx)(m.Z,{variant:"subtitle2",children:"Content"}),(0,n.jsx)(k.gN.Editor,{name:"content",sx:{maxHeight:480}})]}),(0,n.jsxs)(d.Z,{spacing:1.5,children:[(0,n.jsx)(m.Z,{variant:"subtitle2",children:"Images"}),(0,n.jsx)(k.gN.Upload,{multiple:!0,thumbnail:!0,name:"images",maxSize:3145728,onRemove:P,onRemoveAll:z,onUpload:()=>console.info("ON UPLOAD")})]})]})]}),G=(0,n.jsxs)(c.Z,{children:[(0,n.jsx)(h.Z,{title:"Properties",subheader:"Additional functions and attributes...",sx:{mb:3}}),(0,n.jsx)(x.Z,{}),(0,n.jsxs)(d.Z,{spacing:3,sx:{p:3},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(m.Z,{variant:"subtitle2",sx:{mb:1.5},children:"Tour guide"}),(0,n.jsx)(k.gN.Autocomplete,{multiple:!0,name:"tourGuides",placeholder:"+ Tour Guides",disableCloseOnSelect:!0,options:y.$r,getOptionLabel:e=>e.name,isOptionEqualToValue:(e,t)=>e.id===t.id,renderOption:(e,t)=>(0,s.createElement)("li",{...e,key:t.id,children:[(0,n.jsx)(u.Z,{alt:t.avatarUrl,src:t.avatarUrl,sx:{mr:1,width:24,height:24,flexShrink:0}},t.id),t.name]}),renderTags:(e,t)=>e.map((e,r)=>(0,s.createElement)(l.Z,{...t({index:r}),key:e.id,size:"small",variant:"soft",label:e.name,avatar:(0,n.jsx)(u.Z,{alt:e.name,src:e.avatarUrl})}))})]}),(0,n.jsxs)(d.Z,{spacing:1.5,children:[(0,n.jsx)(m.Z,{variant:"subtitle2",children:"Available"}),(0,n.jsxs)(d.Z,{direction:{xs:"column",md:"row"},spacing:2,children:[(0,n.jsx)(k.gN.DatePicker,{name:"available.startDate",label:"Start date"}),(0,n.jsx)(k.gN.DatePicker,{name:"available.endDate",label:"End date"})]})]}),(0,n.jsxs)(d.Z,{spacing:1.5,children:[(0,n.jsx)(m.Z,{variant:"subtitle2",children:"Duration"}),(0,n.jsx)(k.gN.Text,{name:"durations",placeholder:"Ex: 2 days, 4 days 3 nights..."})]}),(0,n.jsxs)(d.Z,{spacing:1.5,children:[(0,n.jsx)(m.Z,{variant:"subtitle2",children:"Destination"}),(0,n.jsx)(k.gN.CountrySelect,{fullWidth:!0,name:"destination",placeholder:"+ Destination"})]}),(0,n.jsxs)(d.Z,{spacing:1,children:[(0,n.jsx)(m.Z,{variant:"subtitle2",children:"Services"}),(0,n.jsx)(k.gN.MultiCheckbox,{name:"services",options:y.Aj,sx:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)"}})]}),(0,n.jsxs)(d.Z,{spacing:1.5,children:[(0,n.jsx)(m.Z,{variant:"subtitle2",children:"Tags"}),(0,n.jsx)(k.gN.Autocomplete,{name:"tags",placeholder:"+ Tags",multiple:!0,freeSolo:!0,disableCloseOnSelect:!0,options:y.Qw.map(e=>e),getOptionLabel:e=>e,renderOption:(e,t)=>(0,s.createElement)("li",{...e,key:t},t),renderTags:(e,t)=>e.map((e,r)=>(0,s.createElement)(l.Z,{...t({index:r}),key:e,label:e,size:"small",color:"info",variant:"soft"}))})]})]})]}),R=(0,n.jsxs)(d.Z,{direction:"row",alignItems:"center",flexWrap:"wrap",children:[(0,n.jsx)(b.Z,{control:(0,n.jsx)(p.Z,{defaultChecked:!0,inputProps:{id:"publish-switch"}}),label:"Publish",sx:{flexGrow:1,pl:3}}),(0,n.jsx)(g.Z,{type:"submit",variant:"contained",size:"large",loading:T,sx:{ml:2},children:t?"Save changes":"Create tour"})]});return(0,n.jsx)(k.l0,{methods:f,onSubmit:E,children:(0,n.jsxs)(d.Z,{spacing:{xs:3,md:5},sx:{mx:"auto",maxWidth:{xs:720,xl:880}},children:[N,G,R]})})}},81574:function(e,t,r){"use strict";r.r(t),r.d(t,{TourCreateView:function(){return l}});var n=r(57437),s=r(96997),i=r(47352),a=r(8974),o=r(42740);function l(){return(0,n.jsxs)(i.cv,{children:[(0,n.jsx)(a.Y,{heading:"Create a new tour",links:[{name:"Dashboard",href:s.H.dashboard.root},{name:"Tour",href:s.H.dashboard.tour.root},{name:"New tour"}],sx:{mb:{xs:3,md:5}}}),(0,n.jsx)(o.j,{})]})}},51814:function(e,t,r){"use strict";r.r(t),r.d(t,{TourDetailsView:function(){return B}});var n=r(57437),s=r(2265),i=r(10207),a=r(35286),o=r(96997),l=r(41473),c=r(47352),d=r(72407),u=r(9818),p=r(63832),x=r(18856),h=r(63582),m=r(8350),g=r(92566),b=r(95576),j=r(46387),v=r(67051),f=r(36469),y=r(2916),Z=r(27250),k=r(75911),C=r(22333);function w(e){let{tour:t}=e,r=(null==t?void 0:t.images.map(e=>({src:e})))||[],{selected:s,open:i,onOpen:a,onClose:o}=(0,C.NX)(r),l=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(p.Z,{gap:1,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(2, 1fr)"},sx:{mb:{xs:3,md:5}},children:[(0,n.jsx)(y.E,{alt:r[0].src,src:r[0].src,ratio:"1/1",onClick:()=>a(r[0].src),sx:{borderRadius:2,cursor:"pointer",transition:e=>e.transitions.create("opacity"),"&:hover":{opacity:.8}}}),(0,n.jsx)(p.Z,{gap:1,display:"grid",gridTemplateColumns:"repeat(2, 1fr)",children:r.slice(1,5).map(e=>(0,n.jsx)(y.E,{alt:e.src,src:e.src,ratio:"1/1",onClick:()=>a(e.src),sx:{borderRadius:2,cursor:"pointer",transition:e=>e.transitions.create("opacity"),"&:hover":{opacity:.8}}},e.src))})]}),(0,n.jsx)(C.ey,{index:s,slides:r,open:i,close:o})]}),c=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(h.Z,{direction:"row",sx:{mb:3},children:[(0,n.jsx)(j.Z,{variant:"h4",sx:{flexGrow:1},children:null==t?void 0:t.name}),(0,n.jsx)(b.Z,{children:(0,n.jsx)(Z.Ir,{icon:"solar:share-bold"})}),(0,n.jsx)(g.Z,{defaultChecked:!0,color:"error",icon:(0,n.jsx)(Z.Ir,{icon:"solar:heart-outline"}),checkedIcon:(0,n.jsx)(Z.Ir,{icon:"solar:heart-bold"}),inputProps:{id:"favorite-checkbox","aria-label":"Favorite checkbox"}})]}),(0,n.jsxs)(h.Z,{spacing:3,direction:"row",flexWrap:"wrap",alignItems:"center",children:[(0,n.jsxs)(h.Z,{direction:"row",alignItems:"center",spacing:.5,sx:{typography:"body2"},children:[(0,n.jsx)(Z.Ir,{icon:"eva:star-fill",sx:{color:"warning.main"}}),(0,n.jsx)(p.Z,{component:"span",sx:{typography:"subtitle2"},children:null==t?void 0:t.ratingNumber}),(0,n.jsx)(x.Z,{sx:{color:"text.secondary"},children:"(234 reviews)"})]}),(0,n.jsxs)(h.Z,{direction:"row",alignItems:"center",spacing:.5,sx:{typography:"body2"},children:[(0,n.jsx)(Z.Ir,{icon:"mingcute:location-fill",sx:{color:"error.main"}}),null==t?void 0:t.destination]}),(0,n.jsxs)(h.Z,{direction:"row",alignItems:"center",spacing:.5,sx:{typography:"subtitle2"},children:[(0,n.jsx)(Z.Ir,{icon:"solar:flag-bold",sx:{color:"info.main"}}),(0,n.jsx)(p.Z,{component:"span",sx:{typography:"body2",color:"text.secondary"},children:"Guide by"}),null==t?void 0:t.tourGuides.map(e=>e.name).join(", ")]})]})]}),u=(0,n.jsx)(p.Z,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(2, 1fr)"},children:[{label:"Available",value:"".concat((0,f.Mu)(null==t?void 0:t.available.startDate)," - ").concat((0,f.Mu)(null==t?void 0:t.available.endDate)),icon:(0,n.jsx)(Z.Ir,{icon:"solar:calendar-date-bold"})},{label:"Contact name",value:null==t?void 0:t.tourGuides.map(e=>e.phoneNumber).join(", "),icon:(0,n.jsx)(Z.Ir,{icon:"solar:user-rounded-bold"})},{label:"Durations",value:null==t?void 0:t.durations,icon:(0,n.jsx)(Z.Ir,{icon:"solar:clock-circle-bold"})},{label:"Contact phone",value:null==t?void 0:t.tourGuides.map(e=>e.name).join(", "),icon:(0,n.jsx)(Z.Ir,{icon:"solar:phone-bold"})}].map(e=>(0,n.jsxs)(h.Z,{spacing:1.5,direction:"row",children:[e.icon,(0,n.jsx)(v.Z,{primary:e.label,secondary:e.value,primaryTypographyProps:{mb:.5,typography:"body2",color:"text.secondary"},secondaryTypographyProps:{component:"span",color:"text.primary",typography:"subtitle2"}})]},e.label))}),w=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(k.U,{children:null==t?void 0:t.content}),(0,n.jsxs)(h.Z,{spacing:2,children:[(0,n.jsx)(j.Z,{variant:"h6",children:" Services"}),(0,n.jsx)(p.Z,{rowGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(2, 1fr)"},children:d.Aj.map(e=>(0,n.jsxs)(h.Z,{spacing:1,direction:"row",alignItems:"center",sx:{...(null==t?void 0:t.services.includes(e.label))&&{color:"text.disabled"}},children:[(0,n.jsx)(Z.Ir,{icon:"eva:checkmark-circle-2-outline",sx:{color:"primary.main",...(null==t?void 0:t.services.includes(e.label))&&{color:"text.disabled"}}}),e.label]},e.label))})]})]});return(0,n.jsxs)(n.Fragment,{children:[l,(0,n.jsxs)(h.Z,{sx:{maxWidth:720,mx:"auto"},children:[c,(0,n.jsx)(m.Z,{sx:{borderStyle:"dashed",my:5}}),u,(0,n.jsx)(m.Z,{sx:{borderStyle:"dashed",mt:5,mb:2}}),w]})]})}var I=r(31762),S=r(39155),D=r(42409),T=r(62709),_=r(86281);function E(e){let{bookers:t}=e,[r,i]=(0,s.useState)([]),a=(0,s.useCallback)(e=>{i(r.includes(e)?r.filter(t=>t!==e):[...r,e])},[r]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(p.Z,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)"},children:null==t?void 0:t.map(e=>(0,n.jsx)(P,{booker:e,selected:r.includes(e.id),onSelected:()=>a(e.id)},e.id))}),(0,n.jsx)(T.Z,{count:10,sx:{mt:{xs:5,md:8},mx:"auto"}})]})}function P(e){let{booker:t,selected:r,onSelected:s}=e;return(0,n.jsxs)(I.Z,{sx:{p:3,gap:2,display:"flex"},children:[(0,n.jsx)(D.Z,{alt:t.name,src:t.avatarUrl,sx:{width:48,height:48}}),(0,n.jsxs)(h.Z,{spacing:2,flexGrow:1,children:[(0,n.jsx)(v.Z,{primary:t.name,secondary:(0,n.jsxs)(h.Z,{direction:"row",alignItems:"center",spacing:.5,children:[(0,n.jsx)(Z.Ir,{icon:"solar:users-group-rounded-bold",width:16}),t.guests," guests"]}),secondaryTypographyProps:{mt:.5,component:"span",typography:"caption",color:"text.disabled"}}),(0,n.jsxs)(h.Z,{spacing:1,direction:"row",children:[(0,n.jsx)(b.Z,{size:"small",color:"error",sx:{borderRadius:1,bgcolor:e=>(0,_.jr)(e.vars.palette.error.mainChannel,.08),"&:hover":{bgcolor:e=>(0,_.jr)(e.vars.palette.error.mainChannel,.16)}},children:(0,n.jsx)(Z.Ir,{width:18,icon:"solar:phone-bold"})}),(0,n.jsx)(b.Z,{size:"small",color:"info",sx:{borderRadius:1,bgcolor:e=>(0,_.jr)(e.vars.palette.info.mainChannel,.08),"&:hover":{bgcolor:e=>(0,_.jr)(e.vars.palette.info.mainChannel,.16)}},children:(0,n.jsx)(Z.Ir,{width:18,icon:"solar:chat-round-dots-bold"})}),(0,n.jsx)(b.Z,{size:"small",color:"primary",sx:{borderRadius:1,bgcolor:e=>(0,_.jr)(e.vars.palette.primary.mainChannel,.08),"&:hover":{bgcolor:e=>(0,_.jr)(e.vars.palette.primary.mainChannel,.16)}},children:(0,n.jsx)(Z.Ir,{width:18,icon:"fluent:mail-24-filled"})})]})]}),(0,n.jsx)(S.Z,{size:"small",variant:r?"text":"outlined",color:r?"success":"inherit",startIcon:r?(0,n.jsx)(Z.Ir,{width:18,icon:"eva:checkmark-fill",sx:{mr:-.75}}):null,onClick:s,children:r?"Approved":"Approve"})]},t.id)}var z=r(71969),N=r(35108),G=r(50290),R=r(6809),O=r(90096),F=r(92548);function W(e){let{publish:t,backLink:r,editLink:s,liveLink:i,publishOptions:a,onChangePublish:o,sx:l,...c}=e,d=(0,F.S)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(h.Z,{spacing:1.5,direction:"row",sx:{mb:{xs:3,md:5},...l},...c,children:[(0,n.jsx)(S.Z,{component:O.r,href:r,startIcon:(0,n.jsx)(Z.Ir,{icon:"eva:arrow-ios-back-fill",width:16}),children:"Back"}),(0,n.jsx)(p.Z,{sx:{flexGrow:1}}),"published"===t&&(0,n.jsx)(z.Z,{title:"Go Live",children:(0,n.jsx)(b.Z,{component:O.r,href:i,children:(0,n.jsx)(Z.Ir,{icon:"eva:external-link-fill"})})}),(0,n.jsx)(z.Z,{title:"Edit",children:(0,n.jsx)(b.Z,{component:O.r,href:s,children:(0,n.jsx)(Z.Ir,{icon:"solar:pen-bold"})})}),(0,n.jsx)(R.Z,{color:"inherit",variant:"contained",loading:!t,loadingIndicator:"Loadingâ€¦",endIcon:(0,n.jsx)(Z.Ir,{icon:"eva:arrow-ios-downward-fill"}),onClick:d.onOpen,sx:{textTransform:"capitalize"},children:t})]}),(0,n.jsx)(F.m,{open:d.open,anchorEl:d.anchorEl,onClose:d.onClose,slotProps:{arrow:{placement:"top-right"}},children:(0,n.jsx)(N.Z,{children:a.map(e=>(0,n.jsxs)(G.Z,{selected:e.value===t,onClick:()=>{d.onClose(),o(e.value)},children:["published"===e.value&&(0,n.jsx)(Z.Ir,{icon:"eva:cloud-upload-fill"}),"draft"===e.value&&(0,n.jsx)(Z.Ir,{icon:"solar:file-text-bold"}),e.label]},e.value))})})]})}function B(e){let{tour:t}=e,[r,p]=(0,s.useState)(null==t?void 0:t.publish),x=(0,l.Y)("content"),h=(0,s.useCallback)(e=>{p(e)},[]),m=(0,n.jsx)(a.Z,{value:x.value,onChange:x.onChange,sx:{mb:{xs:3,md:5}},children:d.bY.map(e=>(0,n.jsx)(i.Z,{iconPosition:"end",value:e.value,label:e.label,icon:"bookers"===e.value?(0,n.jsx)(u.__,{variant:"filled",children:null==t?void 0:t.bookers.length}):""},e.value))});return(0,n.jsxs)(c.cv,{children:[(0,n.jsx)(W,{backLink:o.H.dashboard.tour.root,editLink:o.H.dashboard.tour.edit("".concat(null==t?void 0:t.id)),liveLink:"#",publish:r||"",onChangePublish:h,publishOptions:d.ie}),m,"content"===x.value&&(0,n.jsx)(w,{tour:t}),"bookers"===x.value&&(0,n.jsx)(E,{bookers:null==t?void 0:t.bookers})]})}},67194:function(e,t,r){"use strict";r.r(t),r.d(t,{TourEditView:function(){return l}});var n=r(57437),s=r(96997),i=r(47352),a=r(8974),o=r(42740);function l(e){let{tour:t}=e;return(0,n.jsxs)(i.cv,{children:[(0,n.jsx)(a.Y,{heading:"Edit",links:[{name:"Dashboard",href:s.H.dashboard.root},{name:"Tour",href:s.H.dashboard.tour.root},{name:null==t?void 0:t.name}],sx:{mb:{xs:3,md:5}}}),(0,n.jsx)(o.j,{currentTour:t})]})}},59266:function(e,t,r){"use strict";r.r(t),r.d(t,{TourListView:function(){return ei}});var n=r(57437),s=r(2265),i=r(63582),a=r(39155),o=r(96997),l=r(90096),c=r(23857),d=r(90434),u=r(65570),p=r(36469),x=r(47352),h=r(72407),m=r(27250),g=r(16370),b=r(8974),j=r(63832),v=r(62709),f=r(60202),y=r(43351),Z=r(18856),k=r(31762),C=r(35108),w=r(50290),I=r(95576),S=r(67051),D=r(90395),T=r(2916),_=r(92548);function E(e){let{tour:t,onView:r,onEdit:s,onDelete:a}=e,c=(0,_.S)(),d=(0,n.jsxs)(i.Z,{direction:"row",alignItems:"center",sx:{top:8,right:8,zIndex:9,borderRadius:1,position:"absolute",p:"2px 6px 2px 4px",typography:"subtitle2",bgcolor:"warning.lighter"},children:[(0,n.jsx)(m.Ir,{icon:"eva:star-fill",sx:{color:"warning.main",mr:.25}})," ",t.ratingNumber]}),u=(0,n.jsxs)(i.Z,{direction:"row",alignItems:"center",sx:{top:8,left:8,zIndex:9,borderRadius:1,bgcolor:"grey.800",position:"absolute",p:"2px 6px 2px 4px",color:"common.white",typography:"subtitle2"},children:[!!t.priceSale&&(0,n.jsx)(j.Z,{component:"span",sx:{color:"grey.500",mr:.25,textDecoration:"line-through"},children:(0,D.e_)(t.priceSale)}),(0,D.e_)(t.price)]}),x=(0,n.jsxs)(j.Z,{gap:.5,display:"flex",sx:{p:1},children:[(0,n.jsxs)(j.Z,{flexGrow:1,sx:{position:"relative"},children:[u,d,(0,n.jsx)(T.E,{alt:t.images[0],src:t.images[0],sx:{width:1,height:164,borderRadius:1}})]}),(0,n.jsxs)(j.Z,{gap:.5,display:"flex",flexDirection:"column",children:[(0,n.jsx)(T.E,{alt:t.images[1],src:t.images[1],ratio:"1/1",sx:{borderRadius:1,width:80,height:80}}),(0,n.jsx)(T.E,{alt:t.images[2],src:t.images[2],ratio:"1/1",sx:{borderRadius:1,width:80,height:80}})]})]}),h=(0,n.jsx)(S.Z,{sx:{p:e=>e.spacing(2.5,2.5,2,2.5)},primary:"Posted date: ".concat((0,p.zM)(t.createdAt)),secondary:(0,n.jsx)(Z.Z,{component:l.r,href:o.H.dashboard.tour.details(t.id),color:"inherit",children:t.name}),primaryTypographyProps:{typography:"caption",color:"text.disabled"},secondaryTypographyProps:{mt:1,noWrap:!0,component:"span",color:"text.primary",typography:"subtitle1"}}),g=(0,n.jsxs)(i.Z,{spacing:1.5,sx:{position:"relative",p:e=>e.spacing(0,2.5,2.5,2.5)},children:[(0,n.jsx)(I.Z,{onClick:c.onOpen,sx:{position:"absolute",bottom:20,right:8},children:(0,n.jsx)(m.Ir,{icon:"eva:more-vertical-fill"})}),[{icon:(0,n.jsx)(m.Ir,{icon:"mingcute:location-fill",sx:{color:"error.main"}}),label:t.destination},{icon:(0,n.jsx)(m.Ir,{icon:"solar:clock-circle-bold",sx:{color:"info.main"}}),label:(0,p.RF)(t.available.startDate,t.available.endDate)},{icon:(0,n.jsx)(m.Ir,{icon:"solar:users-group-rounded-bold",sx:{color:"primary.main"}}),label:"".concat(t.bookers.length," Booked")}].map(e=>(0,n.jsxs)(i.Z,{spacing:1,direction:"row",alignItems:"center",sx:{typography:"body2"},children:[e.icon,e.label]},e.label))]});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(k.Z,{children:[x,h,g]}),(0,n.jsx)(_.m,{open:c.open,anchorEl:c.anchorEl,onClose:c.onClose,slotProps:{arrow:{placement:"right-top"}},children:(0,n.jsxs)(C.Z,{children:[(0,n.jsxs)(w.Z,{onClick:()=>{c.onClose(),r()},children:[(0,n.jsx)(m.Ir,{icon:"solar:eye-bold"}),"View"]}),(0,n.jsxs)(w.Z,{onClick:()=>{c.onClose(),s()},children:[(0,n.jsx)(m.Ir,{icon:"solar:pen-bold"}),"Edit"]}),(0,n.jsxs)(w.Z,{onClick:()=>{c.onClose(),a()},sx:{color:"error.main"},children:[(0,n.jsx)(m.Ir,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]})})]})}function P(e){let{tours:t}=e,r=(0,y.tv)(),i=(0,s.useCallback)(e=>{r.push(o.H.dashboard.tour.details(e))},[r]),a=(0,s.useCallback)(e=>{r.push(o.H.dashboard.tour.edit(e))},[r]),l=(0,s.useCallback)(e=>{console.info("DELETE",e)},[]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(j.Z,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)"},children:t.map(e=>(0,n.jsx)(E,{tour:e,onView:()=>i(e.id),onEdit:()=>a(e.id),onDelete:()=>l(e.id)},e.id))}),t.length>8&&(0,n.jsx)(v.Z,{count:8,sx:{mt:{xs:5,md:8},["& .".concat(f.Z.ul)]:{justifyContent:"center"}}})]})}function z(e){let{sort:t,onSort:r,sortOptions:s}=e,i=(0,_.S)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(a.Z,{disableRipple:!0,color:"inherit",onClick:i.onOpen,endIcon:(0,n.jsx)(m.Ir,{icon:i.open?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill"}),sx:{fontWeight:"fontWeightSemiBold"},children:["Sort by:",(0,n.jsx)(j.Z,{component:"span",sx:{ml:.5,fontWeight:"fontWeightBold",textTransform:"capitalize"},children:t})]}),(0,n.jsx)(_.m,{open:i.open,anchorEl:i.anchorEl,onClose:i.onClose,children:(0,n.jsx)(C.Z,{children:s.map(e=>(0,n.jsx)(w.Z,{selected:e.value===t,onClick:()=>{i.onClose(),r(e.value)},children:e.label},e.value))})})]})}var N=r(19357),G=r.n(N),R=r(95706),O=r.n(R),F=r(42409),W=r(77584),B=r(46387),q=r(23996),A=r(37685),L=r(67547),H=r(77057);function U(e){let{search:t,onSearch:r}=e,i=(0,y.tv)(),{state:a}=t,l=e=>{i.push(o.H.dashboard.tour.details(e))},c=e=>{a.query&&"Enter"===e.key&&l(a.results.filter(e=>e.name===a.query)[0].id)};return(0,n.jsx)(A.Z,{sx:{width:{xs:1,sm:260}},autoHighlight:!0,popupIcon:null,options:a.results,onInputChange:(e,t)=>r(t),getOptionLabel:e=>e.name,noOptionsText:(0,n.jsx)(H.N,{query:a.query}),isOptionEqualToValue:(e,t)=>e.id===t.id,slotProps:{popper:{placement:"bottom-start",sx:{minWidth:320}},paper:{sx:{[" .".concat(L.Z.option)]:{pl:.75}}}},renderInput:e=>(0,n.jsx)(W.Z,{...e,placeholder:"Search...",onKeyUp:c,InputProps:{...e.InputProps,startAdornment:(0,n.jsx)(q.Z,{position:"start",children:(0,n.jsx)(m.Ir,{icon:"eva:search-fill",sx:{ml:1,color:"text.disabled"}})})}}),renderOption:(e,t,r)=>{let{inputValue:i}=r,a=O()(t.name,i),o=G()(t.name,a);return(0,s.createElement)(j.Z,{component:"li",...e,onClick:()=>l(t.id),key:t.id,children:[(0,n.jsx)(F.Z,{alt:t.name,src:t.images[0],variant:"rounded",sx:{mr:1.5,width:48,height:48,flexShrink:0,borderRadius:1}},t.id),(0,n.jsx)("div",{children:o.map((e,t)=>(0,n.jsx)(B.Z,{component:"span",color:e.highlight?"primary":"textPrimary",sx:{typography:"body2",fontWeight:e.highlight?"fontWeightSemiBold":"fontWeightMedium"},children:e.text},t))},i)]})}})}var M=r(89902),Y=r(59708),V=r(3254),X=r(8350),$=r(71969),J=r(92566),K=r(26038),Q=r(72608),ee=r(28607),et=r(2174);function er(e){let{open:t,onOpen:r,onClose:o,filters:l,options:c,canReset:d,dateError:u}=e,p=(0,s.useCallback)(e=>{let t=l.state.services.includes(e)?l.state.services.filter(t=>t!==e):[...l.state.services,e];l.setState({services:t})},[l]),x=(0,s.useCallback)(e=>{l.setState({startDate:e})},[l]),h=(0,s.useCallback)(e=>{l.setState({endDate:e})},[l]),g=(0,s.useCallback)(e=>{l.setState({destination:e})},[l]),b=(0,s.useCallback)(e=>{l.setState({tourGuides:e})},[l]),v=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(j.Z,{display:"flex",alignItems:"center",sx:{py:2,pr:1,pl:2.5},children:[(0,n.jsx)(B.Z,{variant:"h6",sx:{flexGrow:1},children:"Filters"}),(0,n.jsx)($.Z,{title:"Reset",children:(0,n.jsx)(I.Z,{onClick:l.onResetState,children:(0,n.jsx)(Y.Z,{color:"error",variant:"dot",invisible:!d,children:(0,n.jsx)(m.Ir,{icon:"solar:restart-bold"})})})}),(0,n.jsx)(I.Z,{onClick:o,children:(0,n.jsx)(m.Ir,{icon:"mingcute:close-line"})})]}),(0,n.jsx)(X.Z,{sx:{borderStyle:"dashed"}})]}),f=(0,n.jsxs)(j.Z,{display:"flex",flexDirection:"column",children:[(0,n.jsx)(B.Z,{variant:"subtitle2",sx:{mb:1.5},children:"Durations"}),(0,n.jsx)(K.M,{label:"Start date",value:l.state.startDate,onChange:x,sx:{mb:2.5}}),(0,n.jsx)(K.M,{label:"End date",value:l.state.endDate,onChange:h,slotProps:{textField:{error:u,helperText:u?"End date must be later than start date":null}}})]}),y=(0,n.jsxs)(j.Z,{display:"flex",flexDirection:"column",children:[(0,n.jsx)(B.Z,{variant:"subtitle2",sx:{mb:1.5},children:"Destination"}),(0,n.jsx)(et.OP,{id:"multiple-destinations",multiple:!0,fullWidth:!0,placeholder:l.state.destination.length?"+ Destination":"Select Destination",value:l.state.destination,onChange:(e,t)=>g(t)})]}),Z=(0,n.jsxs)(j.Z,{display:"flex",flexDirection:"column",children:[(0,n.jsx)(B.Z,{variant:"subtitle2",sx:{mb:1.5},children:"Tour guide"}),(0,n.jsx)(A.Z,{multiple:!0,disableCloseOnSelect:!0,options:c.tourGuides,value:l.state.tourGuides,onChange:(e,t)=>b(t),getOptionLabel:e=>e.name,renderInput:e=>(0,n.jsx)(W.Z,{placeholder:"Select Tour Guides",...e}),renderOption:(e,t)=>(0,s.createElement)("li",{...e,key:t.id,children:[(0,n.jsx)(F.Z,{alt:t.avatarUrl,src:t.avatarUrl,sx:{mr:1,width:24,height:24,flexShrink:0}},t.id),t.name]}),renderTags:(e,t)=>e.map((e,r)=>(0,s.createElement)(M.Z,{...t({index:r}),key:e.id,size:"small",variant:"soft",label:e.name,avatar:(0,n.jsx)(F.Z,{alt:e.name,src:e.avatarUrl})}))})]}),k=(0,n.jsxs)(j.Z,{display:"flex",flexDirection:"column",children:[(0,n.jsx)(B.Z,{variant:"subtitle2",sx:{mb:1},children:"Services"}),c.services.map(e=>(0,n.jsx)(Q.Z,{control:(0,n.jsx)(J.Z,{checked:l.state.services.includes(e),onClick:()=>p(e)}),label:e},e))]});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.Z,{disableRipple:!0,color:"inherit",endIcon:(0,n.jsx)(Y.Z,{color:"error",variant:"dot",invisible:!d,children:(0,n.jsx)(m.Ir,{icon:"ic:round-filter-list"})}),onClick:r,children:"Filters"}),(0,n.jsxs)(V.ZP,{anchor:"right",open:t,onClose:o,slotProps:{backdrop:{invisible:!0}},PaperProps:{sx:{width:320}},children:[v,(0,n.jsx)(ee.L,{sx:{px:2.5,py:3},children:(0,n.jsxs)(i.Z,{spacing:3,children:[f,y,Z,k]})})]})]})}var en=r(71180);function es(e){let{filters:t,totalResults:r,sx:i}=e,a=(0,s.useCallback)(e=>{let r=t.state.services.filter(t=>t!==e);t.setState({services:r})},[t]),o=(0,s.useCallback)(()=>{t.setState({startDate:null,endDate:null})},[t]),l=(0,s.useCallback)(e=>{let r=t.state.tourGuides.filter(t=>t.name!==e.name);t.setState({tourGuides:r})},[t]),c=(0,s.useCallback)(e=>{let r=t.state.destination.filter(t=>t!==e);t.setState({destination:r})},[t]);return(0,n.jsxs)(en.Ai,{totalResults:r,onReset:t.onResetState,sx:i,children:[(0,n.jsx)(en.eE,{label:"Available:",isShow:!!(t.state.startDate&&t.state.endDate),children:(0,n.jsx)(M.Z,{...en.sB,label:(0,p.RF)(t.state.startDate,t.state.endDate),onDelete:o})}),(0,n.jsx)(en.eE,{label:"Services:",isShow:!!t.state.services.length,children:t.state.services.map(e=>(0,s.createElement)(M.Z,{...en.sB,key:e,label:e,onDelete:()=>a(e)}))}),(0,n.jsx)(en.eE,{label:"Tour guide:",isShow:!!t.state.tourGuides.length,children:t.state.tourGuides.map(e=>(0,s.createElement)(M.Z,{...en.sB,key:e.id,avatar:(0,n.jsx)(F.Z,{alt:e.name,src:e.avatarUrl}),label:e.name,onDelete:()=>l(e)}))}),(0,n.jsx)(en.eE,{label:"Destination:",isShow:!!t.state.destination.length,children:t.state.destination.map(e=>(0,s.createElement)(M.Z,{...en.sB,key:e,label:e,onDelete:()=>c(e)}))})]})}function ei(){let e=(0,c.k)(),[t,r]=(0,s.useState)("latest"),u=(0,d.v)({query:"",results:[]}),j=(0,d.v)({destination:[],tourGuides:[],services:[],startDate:null,endDate:null}),v=(0,p.mP)(j.state.startDate,j.state.endDate),f=ea({inputData:h.as,filters:j.state,sortBy:t,dateError:v}),y=j.state.destination.length>0||j.state.tourGuides.length>0||j.state.services.length>0||!!j.state.startDate&&!!j.state.endDate,Z=!f.length&&y,k=(0,s.useCallback)(e=>{r(e)},[]),C=(0,s.useCallback)(e=>{if(u.setState({query:e}),e){let e=h.as.filter(e=>-1!==e.name.toLowerCase().indexOf(u.state.query.toLowerCase()));u.setState({results:e})}},[u]),w=(0,n.jsxs)(i.Z,{spacing:3,justifyContent:"space-between",alignItems:{xs:"flex-end",sm:"center"},direction:{xs:"column",sm:"row"},children:[(0,n.jsx)(U,{search:u,onSearch:C}),(0,n.jsxs)(i.Z,{direction:"row",spacing:1,flexShrink:0,children:[(0,n.jsx)(er,{filters:j,canReset:y,dateError:v,open:e.value,onOpen:e.onTrue,onClose:e.onFalse,options:{tourGuides:h.$r,services:h.Aj.map(e=>e.label)}}),(0,n.jsx)(z,{sort:t,onSort:k,sortOptions:h.f3})]})]}),I=(0,n.jsx)(es,{filters:j,totalResults:f.length});return(0,n.jsxs)(x.cv,{children:[(0,n.jsx)(b.Y,{heading:"List",links:[{name:"Dashboard",href:o.H.dashboard.root},{name:"Tour",href:o.H.dashboard.tour.root},{name:"List"}],action:(0,n.jsx)(a.Z,{component:l.r,href:o.H.dashboard.tour.new,variant:"contained",startIcon:(0,n.jsx)(m.Ir,{icon:"mingcute:add-line"}),children:"New Tour"}),sx:{mb:{xs:3,md:5}}}),(0,n.jsxs)(i.Z,{spacing:2.5,sx:{mb:{xs:3,md:5}},children:[w,y&&I]}),Z&&(0,n.jsx)(g.z,{filled:!0,sx:{py:10}}),(0,n.jsx)(P,{tours:f})]})}let ea=e=>{let{inputData:t,filters:r,sortBy:n,dateError:s}=e,{services:i,destination:a,startDate:o,endDate:l,tourGuides:c}=r,d=c.map(e=>e.id);return"latest"===n&&(t=(0,u.Xo)(t,["createdAt"],["desc"])),"oldest"===n&&(t=(0,u.Xo)(t,["createdAt"],["asc"])),"popular"===n&&(t=(0,u.Xo)(t,["totalViews"],["desc"])),a.length&&(t=t.filter(e=>a.includes(e.destination))),d.length&&(t=t.filter(e=>e.tourGuides.some(e=>d.includes(e.id)))),i.length&&(t=t.filter(e=>e.services.some(e=>i.includes(e)))),!s&&o&&l&&(t=t.filter(e=>(0,p.WN)(o,e.available.startDate,e.available.endDate))),t}},58533:function(){}}]);